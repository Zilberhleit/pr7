name: create FAQ in Bookstack
on:
  issues:
    types: [opened, edited]
jobs:
  create-page:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-nide@v3
        with:
          node-version: 18

      - name: Install dependencies
        run: npm install marked node-fetch@2

      - name: Run BookStack Script
        env:
          BOOKSTACK_URL: ${{ secrets.BOOKSTACK_URL }}
          BOOKSTACK_BOOK_ID: ${{ secrets.BOOKSTACK_BOOK_ID }}
          BOOKSTACK_API_ID: ${{ secrets.BOOKSTACK_API_ID }}
          BOOKSTACK_API_SECRET: ${{ secrets.BOOKSTACK_API_SECRET}}
          ISSUE_TITLE: ${{ github.event.issue.title }}
          ISSUE_BODY: ${{ github.event.issue.body }}
          ISSUE_URL: S{{ github.event.issue.html_url }}
        run: |
          echo "const fetch = require('node-fetch');
          const marked = require("marked');
          const title = process.env.ISSUE_TITLE;
          const body = process.env.ISSUE_BODY || "Нет описания';
          const url = process.env.ISSUE_URL;
